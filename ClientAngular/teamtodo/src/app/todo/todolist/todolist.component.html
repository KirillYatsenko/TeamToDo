<div class="container">

  <app-navbar [UserName]="currentUser?.userName"></app-navbar>

  <!-- Button to Open the Modal -->
<!-- <h1>User: {{currentUser?.email}}</h1> -->

  <div class="row">
    <div class="col-md-2"></div>
    <div class="col-md-8">

      <div class="row"  style="margin: 3%">
          <div class="col-md-2"> </div>
          <div class="col-md-8">
              <input class="form-control" #title placeholder="Todo list" />
              <div style="text-align: center; margin-top: 10px;">
                  <button style="width: 30%;"  class="btn btn-success" (click)="addList(title.value); title.value=''">
                      Add 
                    </button> 
              </div>
          </div>
      </div>
      
        
        <div *ngIf="TodoLists.length">
          <div class="lists" *ngFor="let todolist of TodoLists">
              <div class="card">
                  <h5 class="card-header">
                     <span class="list-title" 
                     data-toggle="modal" data-target="#modal-details" (click)="selectList(todolist.id); detailsComponent.setData();"> {{todolist.title}} </span>
                  </h5>
                  <div class="card-body">
                      <div>
                        Members: 
                        <div class="Members" *ngFor="let member of todolist?.members">
                          {{member.userName}}
                        </div>
                      </div>
                  </div>
                  <button *ngIf="todolist.creator.id == currentUser.id" class="btn btn-danger" (click)="deleteListRequest(todolist.id)"
                  data-toggle="modal" data-target="#confirmationDialog">Delete</button>
                </div>
          </div>
        </div>
  </div>
  </div>
</div> 


<app-details-list-modal [currentUser]="currentUser" [listComponent]="this"></app-details-list-modal>
<app-delete-list-modal [todoList]="todoListDeleteRequest" [deleteComponent]="this"></app-delete-list-modal>

